<!DOCTYPE html>
<html dir='rtl' lang='ar'>

<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>المجال و النطاق</title>
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css'>
  <script src='https://www.w3schools.com/lib/w3.js'></script>
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <link rel='icon' href='icon.ico'>

  <style>
    * {
      font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    }

    a:hover {
      background-color: hsl(0, 0%, 30%);
    }

    input:invalid {
      background-color: yellow;
    }
  </style>

</head>

<body>

  <div w3-include-html='header.htm'></div>

  <div w3-include-html='nav.htm'></div>

  <br>

  <!-- Main Form -->
  <form name='myForm'>
    <div class='row p-3 m-3'>
      <div class='col-sm-12'>

        <div class="col-sm-6 float-right p-3 border border-dark bg-light">

          <h4 class="text-center bg-secondary text-white">المجال</h4>

          <div class='input-group'>
            <div class='input-group-append'>
              <span class='input-group-text'>الأدنى&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            </div>
            <input tabindex="1" class='form-control text-primary' id='rangeLow' type='number' name='rangeLow' value='0' onchange='calc()' placeholder='الرقم الأدنى' title="الأدنى" required>
          </div>

          <div class='input-group'>
            <div class='input-group-append'>
              <span class='input-group-text'>الأعلى&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            </div>
            <input tabindex="2" class='form-control text-primary' id='rangeHigh' type='number' name='rangeHigh' value='100' onchange='calc()' placeholder='الرقم الأعلى' title="الأعلى" required>
          </div>
        </div>

        <div class="col-sm-6 float-left p-3 border border-dark bg-light">

          <h4 class="text-center bg-secondary text-white">النطاق</h4>

          <div class='input-group'>
            <div class='input-group-append'>
              <span class='input-group-text'>الأدنى&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            </div>
            <input tabindex="3" class='form-control text-primary' id='domainLow' type='number' name='domainLow' value='4' onchange='calc()' placeholder='الرقم الأدنى' title="الأدنى" required>
          </div>

          <div class='input-group'>
            <div class='input-group-append'>
              <span class='input-group-text'>الأعلى&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            </div>
            <input tabindex="4" class='form-control text-primary' id='domainHigh' type='number' name='domainHigh' value='20' onchange='calc()' placeholder='الرقم الأعلى' title="الأعلى" required>
          </div>
        </div>
      </div>

      <div class='col-sm-12 mt-3'>

        <div class="p-3 border border-dark bg-light">

          <h4 class="text-center bg-secondary text-white">رقم من المجال > رقم النطاق</h4>

          <div class='input-group'>
            <div class='input-group-append'>
              <span class='input-group-text'>الرقم المراد تحويله&nbsp;</span>
            </div>
            <input class="text-primary form-control" tabindex="5" class='text-primary' id='inputNumber' type='number' name='inputNumber' value='0' onchange='calc()' placeholder='' title="الرقم المراد تحويله" required>
          </div>
        </div>
      </div>

      <div class="col-sm-12 mt-3">
        <div class='p-3 border border-dark bg-light'>
          <h4 class="text-center bg-success text-white">النتيجة</h4>
          <p id="result" class="text-center form-control text-info"></p>
        </div>
      </div>
    </div>
  </form>

  <br>
  <br>

  <div w3-include-html='footer.htm'></div>

</body>
<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js'></script>
<script>
  w3.includeHTML();
</script>
<script>
  function calc() {
    let rangeLow = document.querySelector("#rangeLow").value
    let rangeHigh = document.querySelector("#rangeHigh").value

    let domainLow = document.querySelector("#domainLow").value
    let domainHigh = document.querySelector("#domainHigh").value

    scale.domain([rangeLow, rangeHigh]);
    scale.range([domainLow, domainHigh]);

    document.querySelector("#result").innerHTML =  scale(document.querySelector("#inputNumber").value)
  }

  let scale = d3.scaleLinear();
  calc();
</script>

</html>
