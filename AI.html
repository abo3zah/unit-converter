<!DOCTYPE html>
<html dir='rtl' lang='ar'>

<head>

    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>

    <title>الذكاء الصناعي</title>
    <link rel="icon" href="icon.ico">

    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>
    <link rel="stylesheet" href="css\variables.css">
    <link rel="stylesheet" href="css\header2.css">
    <link rel="stylesheet" href="css\ai.css">

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.15.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis@1.0.2/dist/tfjs-vis.umd.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.11.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/knn-classifier"></script>
    <script src='https://www.w3schools.com/lib/w3.js'></script>
    <script src='js\ai.js' defer></script>
    <script src="https://d3js.org/d3.v6.min.js" defer></script>
    <!-- <script src="//unpkg.com/brain.js" defer></script> -->

</head>

<body>


    <div class="grid grid-rows-[auto_1fr_auto] w-full h-full">
        <div w3-include-html='header2.htm'></div>

        <!-- Main -->
        <div class="grid grid-cols-1 grid-rows-[3fr_1fr] text-center py-3 gap-3" dir='ltr'>

            <!-- Top Area -->
            <div class="grid grid-cols-1 lg:grid-cols-2 h-full w-full px-3 gap-3">

                <!-- Visualization Are -->
                <div class="grid grid-cols-1 grid-rows-[auto_auto_1fr] border w-full border-gray-900 p-3 gap-3">

                    <h3 class="font-bold text-2xl bg-green-500 text-white rounded inline-block align-middle uppercase ">Visualization</h3>

                    <div class="flex w-full gap-2 items-center justify-center">
                        <label for="x-axis" class="font-bold">x-axis</label>
                        <select name="x-axis" id="x-axis" class="form-select flex-grow rounded" onchange="drawChart(data)"></select>
                        <label for="y-axis" class="font-bold">y-axis</label>
                        <select name="y-axis" id="y-axis" class="form-select flex-grow rounded" onchange="drawChart(data)"></select>
                    </div>

                    <div id="myChart" class="w-full border"></div>
                </div>

                <!-- Load and Train Area -->
                <div class="grid grid-rows-[auto_auto_1fr] border w-full border-gray-900 p-3 gap-3">

                    <h3 class="font-bold text-2xl bg-green-500 text-white rounded inline-block align-middle uppercase ">Defining and Training Model</h3>

                    <!-- Input Area -->
                    <div class="grid grid-cols-1 gap-3 align-items-center">

                        <div class="grid grid-cols-1 grid-rows-[1fr_1fr_auto] gap-3 border p-3 border-black justify-center content-center">
                            <input type="number" name="epochs" id="epochs" class="rounded text-center" value="50" placeholder="Enter epochs">
                            <button onclick="trainModel()" class="border border-black p-3 font-bold rounded bg-zinc-300 hover:bg-zinc-200 active:bg-zinc-500 active:text-white px-3 py-2">Train Model</button>
                        </div>
                    </div>

                    <!-- Plot Training Area -->
                    <div id="myChart2" class="w-full border"></div>
                </div>
            </div>

            <!-- Bottom Area -->
            <div class="grid grid-cols-3 p-3 h-full w-full gap-3">

                <div class="grid grid-cols-1 grid-rows-[auto_1fr_1fr_auto] gap-3 border p-3 border-black">
                    <h3 class="font-bold text-2xl bg-green-500 text-white rounded inline-block align-middle uppercase">Loading trained model</h3>
                    <input type="file" id="json-upload" name="json-upload" accept="application/JSON" class="form-input w-full">
                    <input type="file" id="weights-upload" name="weights-upload" accept=".bin" class="form-input w-full">
                    <button class="border border-black font-bold rounded bg-zinc-300 hover:bg-zinc-200 active:bg-zinc-500 active:text-white px-3 py-2 flex-grow" onclick="loadModel()">Load Model</button>
                </div>
                
                <div class="grid grid-cols-1 p-3 h-full w-full border border-black gap-3">
                    <h3 class="font-bold text-2xl bg-green-500 text-white rounded inline-block align-middle uppercase ">Test Parameter</h3>
                    <div class="flex w-full gap-2 items-center justify-center">
                        <input type="number" name="Petal Length" id="PL" class="form-input flex-grow rounded" placeholder="Petal Length" value="1">
                        <input type="number" name="Petal Width" id="PW" class="form-input flex-grow rounded" placeholder="Petal Width" value="1">
                    </div>
                    <button onclick="testModel()" class="border border-black font-bold rounded bg-zinc-300 hover:bg-zinc-200 active:bg-zinc-500 active:text-white px-3 py-2 flex-grow">Test Model</button>
                    <p><b>The flower is </b><span id="result"></span></p>
                </div>

                <div class="grid grid-cols-1 grid-rows-[auto_auto_1fr] gap-3 border p-3 border-black">
                    <h3 class="font-bold text-2xl bg-green-500 text-white rounded inline-block align-middle uppercase">Save trained model</h3>
                    <button class="border border-black font-bold rounded bg-zinc-300 hover:bg-zinc-200 active:bg-zinc-500 active:text-white px-3 py-2 flex-grow" onclick="saveModel()">Save Model</button>
                </div>

            </div>
        </div>

        <div w3-include-html='footer.htm'></div>
    </div>

</body>

<script>
    w3.includeHTML();
</script>

</html>